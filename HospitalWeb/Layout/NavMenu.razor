@inherits LayoutComponentBase

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<div class="top-row ps-3 navbar navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="">
            <img src="images/hospital.png" alt="Hospital Logo" class="logo" style="height: 30px; margin-right: 10px;" />
            Hospital
        </a>
        <button title="Navigation menu" class="navbar-toggler" @onclick="ToggleNavMenu">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</div>

<div class="@NavMenuCssClass nav-scrollable" @onclick="ToggleNavMenu">
    <nav class="flex-column">
        <div class="nav-item px-3">
            <MudNavLink Href="" Icon="@Icons.Material.Filled.Home" IconColor="Color.Surface">Главная</MudNavLink>
        </div>
           <AuthorizeView Roles="Client,Admin">
            <Authorized>
                <div class="nav-item px-3">
                    <MudNavLink Href="/appointmentregister" Icon="@Icons.Material.Filled.CalendarToday" IconColor="Color.Surface">Запись к врачу</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/doctorCard" Icon="@Icons.Material.Filled.LocalPharmacy" IconColor="Color.Surface">Доктора</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/queue" Icon="@Icons.Material.Filled.Queue" IconColor="Color.Surface">Очередь</MudNavLink>
                </div>
               </Authorized>
        </AuthorizeView>
        <AuthorizeView Roles="Admin">
            <Authorized>
                <div class="nav-item px-3">
                    <MudNavLink Href="/manage-queue" Icon="@Icons.Material.Filled.ManageAccounts" IconColor="Color.Surface">Управ.очередью</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/hospital" Icon="@Icons.Material.Filled.LocalHospital" IconColor="Color.Surface">Больницы</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/branch" Icon="@Icons.Material.Filled.Apartment" IconColor="Color.Surface">Филиалы</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/department" Icon="@Icons.Material.Filled.BusinessCenter" IconColor="Color.Surface">Отделения</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/floor" Icon="@Icons.Material.Filled.Layers" IconColor="Color.Surface">Этажи</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/room" Icon="@Icons.Material.Filled.Room" IconColor="Color.Surface">Комнаты</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/doctor" Icon="@Icons.Material.Filled.LocalPharmacy" IconColor="Color.Surface">Список врачей</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/worker" Icon="@Icons.Material.Filled.Person" IconColor="Color.Surface">Сотрудники</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/patient" Icon="@Icons.Material.Filled.Person" IconColor="Color.Surface">Пациенты</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/role" Icon="@Icons.Material.Filled.Security" IconColor="Color.Surface">Роли</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/position" Icon="@Icons.Material.Filled.Work" IconColor="Color.Surface">Должности</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/pateintinfo" Icon="@Icons.Material.Filled.Group" IconColor="Color.Surface">О Пациентах</MudNavLink>
                </div>
                <div class="nav-item px-3">
                    <MudNavLink Href="/appointment" Icon="@Icons.Material.Filled.CalendarToday" IconColor="Color.Surface">Список записей</MudNavLink>
                </div> 
        </Authorized>
        </AuthorizeView>
        <div class="nav-item px-3">
            <MudNavLink Href="/about" Icon="@Icons.Material.Filled.Info" IconColor="Color.Surface">О нас</MudNavLink>
        </div>
    </nav>
</div>
 
@code {

    bool _drawerOpen = true;

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }

    private bool collapseNavMenu = true;

    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
